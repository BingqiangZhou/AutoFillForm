# Skills Metadata
# This file contains metadata for all skills in the system

question_type_skills:
  radio_selection:
    name: radio_selection
    display_name: 单选题
    description: 处理单选题（单选按钮）类型的题目，根据概率权重选择一个选项
    category: question_type
    version: 1.0.0
    author: AutoFillForm
    tags:
      - radio
      - single-choice
      - 单选
    input_schema:
      page: "Playwright Page instance"
      probabilities: "List of probability weights"
      question_index: "1-based index of the question"
    output_schema:
      option_id: "Selected option ID"
      selected_index: "Index of selected option"
      css_selector: "CSS selector used"

  multiple_selection:
    name: multiple_selection
    display_name: 多选题
    description: 处理多选题（复选框）类型的题目，每个选项根据独立概率决定是否选中
    category: question_type
    version: 1.0.0
    author: AutoFillForm
    tags:
      - multiple
      - checkbox
      - 多选
    input_schema:
      page: "Playwright Page instance"
      probabilities: "List of probability percentages (0-100)"
      question_index: "1-based index of the question"
    output_schema:
      selected_indices: "List of selected option indices"
      selected_count: "Number of options selected"

  matrix_radio_selection:
    name: matrix_radio_selection
    display_name: 矩阵单选题
    description: 处理矩阵单选题类型，每个子问题根据独立的概率权重选择选项
    category: question_type
    version: 1.0.0
    author: AutoFillForm
    tags:
      - matrix
      - matrix-radio
      - 矩阵
    input_schema:
      page: "Playwright Page instance"
      probabilities_list: "List of probability lists for sub-questions"
      question_index: "1-based index of the question"
    output_schema:
      selections: "List of selection data for each sub-question"
      sub_question_count: "Number of sub-questions"

  blank_filling:
    name: blank_filling
    display_name: 填空题
    description: 处理填空题类型，根据文本选项和概率权重填写内容
    category: question_type
    version: 1.0.0
    author: AutoFillForm
    tags:
      - blank
      - text
      - input
      - 填空
    input_schema:
      page: "Playwright Page instance"
      info_list: "[text_list, probabilities_list]"
      question_index: "1-based index of the question"
    output_schema:
      text: "Text that was filled"
      selected_index: "Index of selected text"
      css_selector: "CSS selector used"

  dropdown_selection:
    name: dropdown_selection
    display_name: 下拉选择题
    description: 处理下拉选择题类型，根据概率权重选择下拉框中的一个选项
    category: question_type
    version: 1.0.0
    author: AutoFillForm
    tags:
      - dropdown
      - select
      - 下拉
    input_schema:
      page: "Playwright Page instance"
      probabilities: "List of probability weights"
      question_index: "1-based index of the question"
    output_schema:
      selected_index: "Index of selected option"
      selected_value: "Value of selected option"
      css_selector: "CSS selector used"

verification_skills:
  intelligent_verification:
    name: intelligent_verification
    display_name: 智能验证
    description: 处理智能验证（点击按钮），使用屏幕坐标模拟鼠标点击
    category: verification
    version: 1.0.0
    author: AutoFillForm
    tags:
      - intelligent
      - click
      - verify
      - 智能验证
    input_schema:
      page: "Playwright Page instance"
      locator: "Playwright Locator for verification element"
      dpi_ratio: "Windows DPI scaling ratio"
    output_schema:
      click_position: "Screen coordinates clicked"
      screen_x: "X coordinate"
      screen_y: "Y coordinate"

  slider_verification:
    name: slider_verification
    display_name: 滑块验证
    description: 处理滑块验证，模拟鼠标拖动滑块到最右边
    category: verification
    version: 1.0.0
    author: AutoFillForm
    tags:
      - slider
      - drag
      - verify
      - 滑块验证
    input_schema:
      page: "Playwright Page instance"
      locator: "Playwright Locator for slider element"
      dpi_ratio: "Windows DPI scaling ratio"
    output_schema:
      start_position: "Start drag position"
      end_position: "End drag position"
      drag_distance: "Distance dragged"

browser_skills:
  browser_setup_for_fill:
    name: browser_setup_for_fill
    display_name: 浏览器启动(填写模式)
    description: 启动有头浏览器用于表单填写
    category: browser
    version: 1.0.0
    author: AutoFillForm
    tags:
      - browser
      - fill
      - 填写
    input_schema:
      headless: "Always False for fill mode"
      channel: "Browser channel (auto/msedge/chrome)"
    output_schema:
      playwright_instance: "Playwright instance"
      browser: "Browser instance"
      context: "Browser context"
      page: "Page instance"

  browser_setup_for_analysis:
    name: browser_setup_for_analysis
    display_name: 浏览器启动(分析模式)
    description: 启动无头浏览器用于问卷分析
    category: browser
    version: 1.0.0
    author: AutoFillForm
    tags:
      - browser
      - analysis
      - headless
      - 分析
    input_schema:
      headless: "Always True for analysis mode"
      channel: "Browser channel (auto/msedge/chrome)"
    output_schema:
      playwright_instance: "Playwright instance"
      browser: "Browser instance"
      context: "Browser context"
      page: "Page instance"

  browser_cleanup:
    name: browser_cleanup
    display_name: 浏览器清理
    description: 清理浏览器资源，关闭页面、上下文和浏览器实例
    category: browser
    version: 1.0.0
    author: AutoFillForm
    tags:
      - cleanup
      - close
      - 清理
    input_schema:
      page: "Optional: Page to close"
      context: "Optional: Context to close"
      browser: "Optional: Browser to close"
      playwright_instance: "Optional: Playwright instance to stop"
    output_schema:
      closed_resources: "List of resource types closed"

analysis_skills:
  survey_analysis:
    name: survey_analysis
    display_name: 问卷分析
    description: 分析问卷页面结构，提取题目信息、类型和选项
    category: analysis
    version: 1.0.0
    author: AutoFillForm
    tags:
      - survey
      - analysis
      - parse
      - 问卷分析
    input_schema:
      page: "Playwright Page instance (or html_content)"
    output_schema:
      questions: "List of parsed questions"
      question_count: "Total number of questions"

  question_detection:
    name: question_detection
    display_name: 题型检测
    description: 检测问卷题目类型，提供交互所需的CSS选择器
    category: analysis
    version: 1.0.0
    author: AutoFillForm
    tags:
      - detection
      - question-type
      - 检测
    input_schema:
      page: "Playwright Page instance"
      question_index: "Optional: specific question index"
    output_schema:
      type_code: "Question type code"
      type_name: "Question type name"
      selectors: "CSS selectors for interaction"

  goto_survey:
    name: goto_survey
    display_name: 打开问卷
    description: 导航到问卷URL并等待页面加载完成
    category: analysis
    version: 1.0.0
    author: AutoFillForm
    tags:
      - survey
      - goto
      - navigate
      - 打开
    input_schema:
      page: "Playwright Page instance"
      url: "Survey URL to navigate to"
    output_schema:
      url: "Navigated URL"
      title: "Page title"
